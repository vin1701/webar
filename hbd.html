<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>Happy Birthday AR Fireworks</title>
    <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-look-at-component@0.8.0/dist/aframe-look-at-component.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar-nft.js"></script>
  </head>

  <body>
    <a-scene
      vr-mode-ui="enabled: false"
      arjs="sourceType: webcam; videoTexture: true; debugUIEnabled: false;"
    >
      <!-- Happy Birthday Text -->
      <a-text
        value="ðŸŽ‰ HAPPY BIRTHDAY! ðŸŽ‰"
        scale="25 25 25"
        color="#FFD700"
        align="center"
        position="0 15 0"
        look-at="[gps-camera]"
        gps-entity-place="latitude: 19.258066; longitude: 72.963154"
        animation="property: rotation; to: 0 360 0; loop: true; dur: 8000"
      ></a-text>

      <!-- Realistic Golden Fireworks Container -->
      <a-entity 
        id="fireworks-container"
        gps-entity-place="latitude: 19.258066; longitude: 72.963154"
        position="0 10 0">
        
        <!-- Main Golden Firework Burst -->
        <a-entity id="firework1" position="0 0 0">
          <!-- Central burst core -->
          <a-sphere 
            color="#FFD700" 
            radius="0.5" 
            material="emissive: #FFA500; emissiveIntensity: 0.8"
            animation__burst="property: scale; to: 12 12 12; dur: 800; startEvents: burst1; easing: easeOutQuart"
            animation__fade="property: material.opacity; to: 0; dur: 1200; startEvents: burst1">
          </a-sphere>
          
          <!-- Radiating golden sparks -->
          <a-cylinder color="#FFD700" height="4" radius="0.05" position="5 0 0" material="emissive: #FFA500; emissiveIntensity: 0.6"
            animation__expand="property: position; to: 8 -2 0; dur: 1500; startEvents: burst1; easing: easeOutQuad"
            animation__fade="property: material.opacity; to: 0; dur: 1500; startEvents: burst1; delay: 200">
          </a-cylinder>
          <a-cylinder color="#FFD700" height="4" radius="0.05" position="0 5 0" material="emissive: #FFA500; emissiveIntensity: 0.6"
            animation__expand="property: position; to: 0 8 0; dur: 1500; startEvents: burst1; easing: easeOutQuad"
            animation__fade="property: material.opacity; to: 0; dur: 1500; startEvents: burst1; delay: 150">
          </a-cylinder>
          <a-cylinder color="#FFD700" height="4" radius="0.05" position="-5 0 0" material="emissive: #FFA500; emissiveIntensity: 0.6"
            animation__expand="property: position; to: -8 -2 0; dur: 1500; startEvents: burst1; easing: easeOutQuad"
            animation__fade="property: material.opacity; to: 0; dur: 1500; startEvents: burst1; delay: 250">
          </a-cylinder>
          <a-cylinder color="#FFD700" height="4" radius="0.05" position="0 -5 0" material="emissive: #FFA500; emissiveIntensity: 0.6"
            animation__expand="property: position; to: 0 -8 0; dur: 1500; startEvents: burst1; easing: easeOutQuad"
            animation__fade="property: material.opacity; to: 0; dur: 1500; startEvents: burst1; delay: 100">
          </a-cylinder>
          <a-cylinder color="#FFD700" height="3" radius="0.04" position="3 3 0" material="emissive: #FFA500; emissiveIntensity: 0.5"
            animation__expand="property: position; to: 6 6 0; dur: 1800; startEvents: burst1; easing: easeOutQuad"
            animation__fade="property: material.opacity; to: 0; dur: 1800; startEvents: burst1; delay: 300">
          </a-cylinder>
          <a-cylinder color="#FFD700" height="3" radius="0.04" position="-3 3 0" material="emissive: #FFA500; emissiveIntensity: 0.5"
            animation__expand="property: position; to: -6 6 0; dur: 1800; startEvents: burst1; easing: easeOutQuad"
            animation__fade="property: material.opacity; to: 0; dur: 1800; startEvents: burst1; delay: 200">
          </a-cylinder>
          <a-cylinder color="#FFD700" height="3" radius="0.04" position="3 -3 0" material="emissive: #FFA500; emissiveIntensity: 0.5"
            animation__expand="property: position; to: 6 -6 0; dur: 1800; startEvents: burst1; easing: easeOutQuad"
            animation__fade="property: material.opacity; to: 0; dur: 1800; startEvents: burst1; delay: 350">
          </a-cylinder>
          <a-cylinder color="#FFD700" height="3" radius="0.04" position="-3 -3 0" material="emissive: #FFA500; emissiveIntensity: 0.5"
            animation__expand="property: position; to: -6 -6 0; dur: 1800; startEvents: burst1; easing: easeOutQuad"
            animation__fade="property: material.opacity; to: 0; dur: 1800; startEvents: burst1; delay: 400">
          </a-cylinder>
        </a-entity>

        <!-- Secondary Golden Firework Left -->
        <a-entity id="firework2" position="-8 3 0">
          <a-sphere 
            color="#FFD700" 
            radius="0.4" 
            material="emissive: #FF8C00; emissiveIntensity: 0.7"
            animation__burst="property: scale; to: 10 10 10; dur: 900; startEvents: burst2; easing: easeOutQuart"
            animation__fade="property: material.opacity; to: 0; dur: 1100; startEvents: burst2">
          </a-sphere>
          
          <!-- Falling golden sparks -->
          <a-cylinder color="#FFD700" height="2" radius="0.03" position="4 0 0" material="emissive: #FFA500; emissiveIntensity: 0.4"
            animation__fall="property: position; to: 4 -6 0; dur: 2000; startEvents: burst2; easing: easeInQuad"
            animation__fade="property: material.opacity; to: 0; dur: 2000; startEvents: burst2; delay: 500">
          </a-cylinder>
          <a-cylinder color="#FFD700" height="2" radius="0.03" position="-4 0 0" material="emissive: #FFA500; emissiveIntensity: 0.4"
            animation__fall="property: position; to: -4 -6 0; dur: 2200; startEvents: burst2; easing: easeInQuad"
            animation__fade="property: material.opacity; to: 0; dur: 2200; startEvents: burst2; delay: 400">
          </a-cylinder>
          <a-cylinder color="#FFD700" height="2" radius="0.03" position="0 4 0" material="emissive: #FFA500; emissiveIntensity: 0.4"
            animation__fall="property: position; to: 0 -2 0; dur: 1800; startEvents: burst2; easing: easeInQuad"
            animation__fade="property: material.opacity; to: 0; dur: 1800; startEvents: burst2; delay: 600">
          </a-cylinder>
        </a-entity>

        <!-- Cascading Golden Firework Right -->
        <a-entity id="firework3" position="8 3 0">
          <a-sphere 
            color="#FFD700" 
            radius="0.4" 
            material="emissive: #DAA520; emissiveIntensity: 0.7"
            animation__burst="property: scale; to: 10 10 10; dur: 900; startEvents: burst3; easing: easeOutQuart"
            animation__fade="property: material.opacity; to: 0; dur: 1100; startEvents: burst3">
          </a-sphere>
          
          <!-- Willow effect - drooping golden streams -->
          <a-cylinder color="#FFD700" height="6" radius="0.04" position="3 0 1" material="emissive: #B8860B; emissiveIntensity: 0.5"
            animation__droop="property: position; to: 1 -8 1; dur: 2500; startEvents: burst3; easing: easeInQuad"
            animation__fade="property: material.opacity; to: 0; dur: 2500; startEvents: burst3; delay: 300">
          </a-cylinder>
          <a-cylinder color="#FFD700" height="6" radius="0.04" position="-3 0 -1" material="emissive: #B8860B; emissiveIntensity: 0.5"
            animation__droop="property: position; to: -1 -8 -1; dur: 2400; startEvents: burst3; easing: easeInQuad"
            animation__fade="property: material.opacity; to: 0; dur: 2400; startEvents: burst3; delay: 350">
          </a-cylinder>
          <a-cylinder color="#FFD700" height="5" radius="0.03" position="2 2 0" material="emissive: #B8860B; emissiveIntensity: 0.4"
            animation__droop="property: position; to: 0 -6 0; dur: 2200; startEvents: burst3; easing: easeInQuad"
            animation__fade="property: material.opacity; to: 0; dur: 2200; startEvents: burst3; delay: 400">
          </a-cylinder>
        </a-entity>

        <!-- High Altitude Golden Burst -->
        <a-entity id="firework4" position="0 8 0">
          <a-sphere 
            color="#FFD700" 
            radius="0.6" 
            material="emissive: #FF8C00; emissiveIntensity: 1.0"
            animation__burst="property: scale; to: 15 15 15; dur: 1200; startEvents: burst4; easing: easeOutQuart"
            animation__fade="property: material.opacity; to: 0; dur: 1500; startEvents: burst4">
          </a-sphere>
          
          <!-- Ring of golden sparks -->
          <a-ring color="#FFD700" radius-inner="3" radius-outer="3.5" material="emissive: #FFA500; emissiveIntensity: 0.8; side: double"
            animation__expand="property: scale; to: 4 4 4; dur: 1500; startEvents: burst4; easing: easeOutQuart"
            animation__fade="property: material.opacity; to: 0; dur: 1500; startEvents: burst4; delay: 200">
          </a-ring>
          <a-ring color="#FFD700" radius-inner="2" radius-outer="2.5" material="emissive: #DAA520; emissiveIntensity: 0.6; side: double"
            animation__expand="property: scale; to: 6 6 6; dur: 1800; startEvents: burst4; easing: easeOutQuart"
            animation__fade="property: material.opacity; to: 0; dur: 1800; startEvents: burst4; delay: 400">
          </a-ring>
        </a-entity>
      </a-entity>

      <!-- Realistic Golden Sparkles -->
      <a-entity 
        id="golden-sparkles"
        gps-entity-place="latitude: 19.258066; longitude: 72.963154"
        position="0 12 0">
        
        <!-- Twinkling golden stars with realistic glow -->
        <a-entity 
          animation="property: rotation; to: 0 360 0; loop: true; dur: 12000; easing: linear">
          
          <!-- Large golden stars with emissive glow -->
          <a-sphere 
            color="#FFD700" 
            radius="0.2" 
            position="4 0 0" 
            material="emissive: #FFD700; emissiveIntensity: 1.2; metalness: 0.8; roughness: 0.2"
            animation="property: material.emissiveIntensity; to: 0.3; direction: alternate; loop: true; dur: 800; easing: easeInOutSine">
          </a-sphere>
          
          <a-sphere 
            color="#FFA500" 
            radius="0.15" 
            position="0 0 4" 
            material="emissive: #FFA500; emissiveIntensity: 1.0; metalness: 0.8; roughness: 0.2"
            animation="property: material.emissiveIntensity; to: 0.2; direction: alternate; loop: true; dur: 1200; easing: easeInOutSine">
          </a-sphere>
          
          <a-sphere 
            color="#DAA520" 
            radius="0.18" 
            position="-4 0 0" 
            material="emissive: #DAA520; emissiveIntensity: 1.1; metalness: 0.9; roughness: 0.1"
            animation="property: material.emissiveIntensity; to: 0.4; direction: alternate; loop: true; dur: 900; easing: easeInOutSine">
          </a-sphere>
          
          <a-sphere 
            color="#B8860B" 
            radius="0.16" 
            position="0 0 -4" 
            material="emissive: #B8860B; emissiveIntensity: 0.9; metalness: 0.7; roughness: 0.3"
            animation="property: material.emissiveIntensity; to: 0.2; direction: alternate; loop: true; dur: 1100; easing: easeInOutSine">
          </a-sphere>
          
          <!-- Cross pattern golden sparkles -->
          <a-sphere 
            color="#FFD700" 
            radius="0.12" 
            position="2.8 2.8 0" 
            material="emissive: #FFD700; emissiveIntensity: 0.8; metalness: 0.6; roughness: 0.4"
            animation="property: material.emissiveIntensity; to: 0.1; direction: alternate; loop: true; dur: 600; easing: easeInOutSine">
          </a-sphere>
          
          <a-sphere 
            color="#FFA500" 
            radius="0.12" 
            position="-2.8 2.8 0" 
            material="emissive: #FFA500; emissiveIntensity: 0.8; metalness: 0.6; roughness: 0.4"
            animation="property: material.emissiveIntensity; to: 0.1; direction: alternate; loop: true; dur: 750; easing: easeInOutSine">
          </a-sphere>
          
          <a-sphere 
            color="#DAA520" 
            radius="0.12" 
            position="2.8 -2.8 0" 
            material="emissive: #DAA520; emissiveIntensity: 0.8; metalness: 0.6; roughness: 0.4"
            animation="property: material.emissiveIntensity; to: 0.1; direction: alternate; loop: true; dur: 850; easing: easeInOutSine">
          </a-sphere>
          
          <a-sphere 
            color="#B8860B" 
            radius="0.12" 
            position="-2.8 -2.8 0" 
            material="emissive: #B8860B; emissiveIntensity: 0.8; metalness: 0.6; roughness: 0.4"
            animation="property: material.emissiveIntensity; to: 0.1; direction: alternate; loop: true; dur: 950; easing: easeInOutSine">
          </a-sphere>
        </a-entity>

        <!-- Counter-rotating inner ring of sparkles -->
        <a-entity 
          animation="property: rotation; to: 0 -360 0; loop: true; dur: 15000; easing: linear">
          
          <a-sphere 
            color="#FFD700" 
            radius="0.08" 
            position="6 1 1" 
            material="emissive: #FFD700; emissiveIntensity: 1.5; metalness: 1.0; roughness: 0.0"
            animation="property: scale; to: 2 2 2; direction: alternate; loop: true; dur: 500; easing: easeInOutQuart">
          </a-sphere>
          
          <a-sphere 
            color="#FFA500" 
            radius="0.08" 
            position="-6 -1 1" 
            material="emissive: #FFA500; emissiveIntensity: 1.3; metalness: 1.0; roughness: 0.0"
            animation="property: scale; to: 1.8 1.8 1.8; direction: alternate; loop: true; dur: 650; easing: easeInOutQuart">
          </a-sphere>
          
          <a-sphere 
            color="#DAA520" 
            radius="0.08" 
            position="1 6 -1" 
            material="emissive: #DAA520; emissiveIntensity: 1.4; metalness: 1.0; roughness: 0.0"
            animation="property: scale; to: 1.5 1.5 1.5; direction: alternate; loop: true; dur: 700; easing: easeInOutQuart">
          </a-sphere>
          
          <a-sphere 
            color="#B8860B" 
            radius="0.08" 
            position="-1 -6 -1" 
            material="emissive: #B8860B; emissiveIntensity: 1.2; metalness: 1.0; roughness: 0.0"
            animation="property: scale; to: 1.9 1.9 1.9; direction: alternate; loop: true; dur: 450; easing: easeInOutQuart">
          </a-sphere>
        </a-entity>
      </a-entity>

      <!-- Birthday Cake Model (using primitives) -->
      <a-entity 
        gps-entity-place="latitude: 19.258066; longitude: 72.963154"
        position="0 5 0">
        
        <!-- Cake Base -->
        <a-cylinder
          color="#8B4513"
          height="2"
          radius="2"
          position="0 0 0"
        ></a-cylinder>
        
        <!-- Cake Top -->
        <a-cylinder
          color="#FFB6C1"
          height="1.5"
          radius="1.8"
          position="0 1.75 0"
        ></a-cylinder>
        
        <!-- Candles -->
        <a-cylinder color="#FFFF00" height="1" radius="0.1" position="-0.8 3.5 0"></a-cylinder>
        <a-cylinder color="#FFFF00" height="1" radius="0.1" position="0 3.5 0"></a-cylinder>
        <a-cylinder color="#FFFF00" height="1" radius="0.1" position="0.8 3.5 0"></a-cylinder>
        
        <!-- Candle Flames -->
        <a-sphere 
          color="#FF6600" 
          radius="0.2" 
          position="-0.8 4.2 0"
          animation="property: scale; to: 1.2 1.5 1.2; direction: alternate; loop: true; dur: 500">
        </a-sphere>
        <a-sphere 
          color="#FF6600" 
          radius="0.2" 
          position="0 4.2 0"
          animation="property: scale; to: 1.2 1.5 1.2; direction: alternate; loop: true; dur: 600">
        </a-sphere>
        <a-sphere 
          color="#FF6600" 
          radius="0.2" 
          position="0.8 4.2 0"
          animation="property: scale; to: 1.2 1.5 1.2; direction: alternate; loop: true; dur: 550">
        </a-sphere>
      </a-entity>

      <!-- Balloons -->
      <a-entity gps-entity-place="latitude: 19.258066; longitude: 72.963154">
        <a-sphere 
          color="#FF1493" 
          radius="1" 
          position="-10 12 0"
          animation="property: position; to: -10 15 0; direction: alternate; loop: true; dur: 2000">
        </a-sphere>
        <a-sphere 
          color="#00FF00" 
          radius="1" 
          position="10 12 0"
          animation="property: position; to: 10 15 0; direction: alternate; loop: true; dur: 2500">
        </a-sphere>
        <a-sphere 
          color="#1E90FF" 
          radius="1" 
          position="0 18 -5"
          animation="property: position; to: 0 21 -5; direction: alternate; loop: true; dur: 3000">
        </a-sphere>
      </a-entity>

      <!-- <a-camera gps-camera rotation-reader></a-camera> -->
      <a-camera gps-camera></a-camera>
    </a-scene>

    <script>
      // Trigger fireworks sequence
      function startFireworks() {
        const burstEvents = ['burst1', 'burst2', 'burst3', 'burst4'];
        let delay = 0;
        
        burstEvents.forEach((event, index) => {
          setTimeout(() => {
            document.querySelector('a-scene').emit(event);
            console.log(`Triggered ${event}`);
          }, delay);
          delay += 800 + Math.random() * 400; // Random delay between 800-1200ms
        });
      }

      // Reset fireworks for next show
      function resetFireworks() {
        const fireworkElements = document.querySelectorAll('#fireworks-container a-sphere, #fireworks-container a-cylinder, #fireworks-container a-ring');
        fireworkElements.forEach(element => {
          element.setAttribute('scale', '1 1 1');
          element.setAttribute('material', 'opacity: 1');
          
          // Reset positions for elements that move
          const originalPos = element.getAttribute('position');
          if (originalPos) {
            element.setAttribute('position', originalPos);
          }
        });
      }

      // Start fireworks when scene loads
      document.addEventListener('DOMContentLoaded', function() {
        setTimeout(() => {
          startFireworks();
          // Repeat fireworks every 12 seconds
          setInterval(() => {
            resetFireworks();
            setTimeout(startFireworks, 500);
          }, 12000);
        }, 3000);
      });

      // Add sound effect simulation (visual feedback)
      document.querySelector('a-scene').addEventListener('burst1', function() {
        console.log('ðŸ’¥ Central firework burst!');
      });
      document.querySelector('a-scene').addEventListener('burst2', function() {
        console.log('ðŸ’¥ Left firework burst!');
      });
      document.querySelector('a-scene').addEventListener('burst3', function() {
        console.log('ðŸ’¥ Right firework burst!');
      });
      document.querySelector('a-scene').addEventListener('burst4', function() {
        console.log('ðŸ’¥ High firework burst!');
      });
    </script>
  </body>
</html>
